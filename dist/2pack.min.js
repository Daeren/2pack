!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.packer=e():r.packer=e()}(self,(()=>{return r={579:r=>{function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(r)}function n(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var t,a,o=[],i=!0,u=!1;try{for(n=n.call(r);!(i=(t=n.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(r){u=!0,a=r}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(r,e)||function(r,e){if(r){if("string"==typeof r)return t(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(r,e):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var a,o,i="undefined"!=typeof Buffer?Buffer:(a=4096,function(){var r=function(){};return r.allocUnsafe=e,r.allocUnsafeSlow=e,r;function e(r){if(r>2147483647)throw new RangeError("Invalid typed array length");var e=new Uint8Array(r);return e.write=n,e.toString=t,e}function n(r,e,n){e=e||0,n=n||this.length;var t=this.length-e;return(!n||n>t)&&(n=t),f(function(r,e){e=e||1/0;for(var n,t=r.length,a=null,o=new Array,i=0;i<t;++i){if((n=r.charCodeAt(i))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(i+1===t){(e-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}(r,this.length-e),this,e,n)}function t(r,e,n){return e=e||0,0===(n=n||this.length)?"":function(r,e,n){n=Math.min(r.length,n);for(var t=new Array,o=e;o<n;){var i=r[o],u=null,f=i>239?4:i>223?3:i>191?2:1;if(o+f<=n){var c=void 0,l=void 0,s=void 0,y=void 0;switch(f){case 1:i<128&&(u=i);break;case 2:128==(192&(c=r[o+1]))&&(y=(31&i)<<6|63&c)>127&&(u=y);break;case 3:c=r[o+1],l=r[o+2],128==(192&c)&&128==(192&l)&&(y=(15&i)<<12|(63&c)<<6|63&l)>2047&&(y<55296||y>57343)&&(u=y);break;case 4:c=r[o+1],l=r[o+2],s=r[o+3],128==(192&c)&&128==(192&l)&&128==(192&s)&&(y=(15&i)<<18|(63&c)<<12|(63&l)<<6|63&s)>65535&&y<1114112&&(u=y)}}null===u?(u=65533,f=1):u>65535&&(u-=65536,t.push(u>>>10&1023|55296),u=56320|1023&u),t.push(u),o+=f}return function(r){var e=r.length;if(e<=a)return String.fromCharCode.apply(String,r);for(var n="",t=0;t<e;)n+=String.fromCharCode.apply(String,r.slice(t,t+=a));return n}(t)}(this,e,n)}}()),u=(o=new Uint32Array([305419896]),18===new Uint8Array(o.buffer,o.byteOffset,o.byteLength)[0]);function f(r,e,n,t){if(!t)return 0;var a,o,i=e.length,u=r.length;for(a=0;a<t&&!((o=a+n)>=i||a>=u);++a)e[o]=r[a];return a}r.exports=function(r){var t=32;if(null===r&&(r=[]),!r||!Array.isArray(r)&&"string"!=typeof r)throw new Error("Invalid schema");var a=!!Array.isArray(r)&&r.some((function(r){return r.split(":").length>=2})),o=!Array.isArray(r)||r.some((function(r){return r.split(":").length<2}));if(a&&o)throw new Error("A schema has mixed names/types");for(var c="undefined"!=typeof BigInt64Array?BigInt64Array.BYTES_PER_ELEMENT:0,l="string"==typeof r,s=l?1:r.length,y=new Array(s),E=null,h=0,p=0,w=0,g=new Array,A=Object.create(null),v=0;v<s;++v){var d=n(l?[r,""]:r[v].split(":").reverse(),2),b=d[0],S=d[1],T=R(b.replace(/[\d\[\]]/g,"")),U=n(M(T,parseInt(b.replace(/\D/g,""),10)||0),3),_=U[0],m=U[1],B=U[2],L=2==(2&T)||1==(1&T)?null:new Uint8Array(m.buffer),N=B?new Uint8Array(B.buffer):null;y[v]=[S,T,_,m,L,B,N],p+=_,w+=m.byteLength}return I(0),{get minSize(){return p},get maxSize(){return w},get offset(){return h},set offset(r){I(r)},pack:function(r,e){var a,o,i,p,g,A,v,d=Array.isArray(r),b=!!e,S=s,T=h,U=r;for(e=e||E;S--;){var _=n(y[S],7);if(a=_[0],o=_[1],i=_[2],p=_[3],g=_[4],A=_[5],v=_[6],!l&&r&&(U=r[d?S:a]),2==(2&o)||1==(1&o))(o&t)===t&&(U=JSON.stringify(U)),U?(i+=A[0]=1==(1&o)?f(U,e,T+i,p.byteLength-i):e.write(U,T+i,p.byteLength-i),u?(e[T]=v[1],e[T+1]=v[0]):(e[T]=v[0],e[T+1]=v[1]),T+=i):(e[T]=0,e[T+1]=0,T+=2);else{var m=0;i===c&&(m=BigInt("0")),null==U||"bigint"!=typeof U&&(isNaN(U)||!isFinite(U))?p[0]=m:(p[0]=U,u&&p.byteLength>1&&g.reverse());for(var B=0;B<i;)e[T]=g[B],++T,++B}}return!b&&T<w?e.slice(0,T):e},unpack:function(r,a,f,c,E){var w=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],v=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!s)return c&&c(h),null;if(r&&"object"===e(r)&&!(r.byteLength<p)){o&&(v=!0),l||(E=E||(w?v?new Array:Object.create(null):v?g:A));for(var d=s,b=a+h,S=b;d--;){for(var T=void 0,U=n(y[d],7),_=U[0],m=U[1],B=U[2],L=U[3],N=U[4],I=U[5],M=U[6],R=0;R<B;++R){if(b>=f)return;I?M[R]=r[b]:N[R]=r[b],++b}if(2==(2&m)||1==(1&m)){u&&M.reverse();var P=I[0];if(P){if(P>=f||P>L.byteLength)return;if(1==(1&m)){for(var Y=i.allocUnsafeSlow(P),k=0;k<P;++k,++b)Y[k]=r[b];T=Y}else T=r instanceof i?r.toString("utf8",b,b+P):i.from?i.from(r).toString("utf8",b,b+P):"undefined"!=typeof TextDecoder?(new TextDecoder).decode(r.slice(b,b+P).buffer):L.toString.call(r,"utf8",b,b+P),b+=P;if((m&t)===t)try{T=JSON.parse(T)}catch(r){T=null}}else T=1==(1&m)||(m&t)===t?null:""}else u&&L.byteLength>1&&N.reverse(),T=L[0];l?E=T:(v&&(_=d),E[_]=T)}return c&&c(h+b-S),E}}};function I(r){r=parseInt(r,10)||0,p=p-h+r,w=w-h+r,h=r,E=i.allocUnsafeSlow(w)}function M(r,e){if(1==(1&r))return[Uint16Array.BYTES_PER_ELEMENT,i.allocUnsafeSlow((e||1024)+Uint16Array.BYTES_PER_ELEMENT),new Uint16Array(1)];if((r&t)===t)return[Uint16Array.BYTES_PER_ELEMENT,i.allocUnsafeSlow((e||8192)+Uint16Array.BYTES_PER_ELEMENT),new Uint16Array(1)];if(2==(2&r))return[Uint16Array.BYTES_PER_ELEMENT,i.allocUnsafeSlow((e||256)+Uint16Array.BYTES_PER_ELEMENT),new Uint16Array(1)];switch(r){case 4:switch(e){case 8:return[Int8Array.BYTES_PER_ELEMENT,new Int8Array(1)];case 16:return[Int16Array.BYTES_PER_ELEMENT,new Int16Array(1)];case 32:return[Int32Array.BYTES_PER_ELEMENT,new Int32Array(1)];case 64:return[BigInt64Array.BYTES_PER_ELEMENT,new BigInt64Array(1)];default:throw new Error("Unknown size: ".concat(e," | ").concat(r))}case 8:switch(e){case 8:return[Uint8Array.BYTES_PER_ELEMENT,new Uint8Array(1)];case 16:return[Uint16Array.BYTES_PER_ELEMENT,new Uint16Array(1)];case 32:return[Uint32Array.BYTES_PER_ELEMENT,new Uint32Array(1)];case 64:return[BigUint64Array.BYTES_PER_ELEMENT,new BigUint64Array(1)];default:throw new Error("Unknown size: ".concat(e," | ").concat(r))}case 16:switch(e){case 32:return[Float32Array.BYTES_PER_ELEMENT,new Float32Array(1)];case 64:return[Float64Array.BYTES_PER_ELEMENT,new Float64Array(1)];default:throw new Error("Unknown size: ".concat(e," | ").concat(r))}default:throw new Error("Unknown type: ".concat(r," | ").concat(r))}}function R(r){switch(r){case"b":case"bin":return 1;case"j":case"json":return 34;case"s":case"str":return 2;case"i":case"int":return 4;case"u":case"uint":return 8;case"f":case"float":return 16;default:throw new Error("Unknown type: ".concat(r))}}},Object.assign(r.exports,{get isBE(){return u},get isLE(){return!u}})}},e={},n=function n(t){var a=e[t];if(void 0!==a)return a.exports;var o=e[t]={exports:{}};return r[t](o,o.exports,n),o.exports}(579),n;var r,e,n}));
//# sourceMappingURL=2pack.min.js.map